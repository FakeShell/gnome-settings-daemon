From 2a786f4a6d9fad954605fb85d1f7cbf20a7f7522 Mon Sep 17 00:00:00 2001
From: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date: Wed, 27 Mar 2013 14:33:58 +0100
Subject: [PATCH 1/3] cursor: add error quark

https://bugzilla.gnome.org/show_bug.cgi?id=696707
---
 plugins/cursor/gsd-cursor-manager.c |    9 +++++++++
 plugins/cursor/gsd-cursor-manager.h |    7 +++++++
 2 files changed, 16 insertions(+)

diff --git a/plugins/cursor/gsd-cursor-manager.c b/plugins/cursor/gsd-cursor-manager.c
index 3384f6b..abfcc0f 100644
--- a/plugins/cursor/gsd-cursor-manager.c
+++ b/plugins/cursor/gsd-cursor-manager.c
@@ -70,6 +70,15 @@ static gboolean add_all_devices (GsdCursorManager *manager, GdkDevice *exception
 
 typedef void (*ForeachScreenFunc) (GdkDisplay *display, GdkScreen *screen, GsdCursorManager *manager, gpointer user_data);
 
+GQuark
+gsd_cursor_manager_error_quark (void)
+{
+        static GQuark quark = 0;
+        if (!quark)
+                quark = g_quark_from_static_string ("gsd_cursor_manager_error");
+        return quark;
+}
+
 static void
 foreach_screen (GsdCursorManager  *manager,
                 ForeachScreenFunc  func,
diff --git a/plugins/cursor/gsd-cursor-manager.h b/plugins/cursor/gsd-cursor-manager.h
index 9bfed2d..e8ad266 100644
--- a/plugins/cursor/gsd-cursor-manager.h
+++ b/plugins/cursor/gsd-cursor-manager.h
@@ -31,6 +31,7 @@ G_BEGIN_DECLS
 #define GSD_IS_CURSOR_MANAGER(o)        (G_TYPE_CHECK_INSTANCE_TYPE ((o), GSD_TYPE_CURSOR_MANAGER))
 #define GSD_IS_CURSOR_MANAGER_CLASS(k)  (G_TYPE_CHECK_CLASS_TYPE ((k), GSD_TYPE_CURSOR_MANAGER))
 #define GSD_CURSOR_MANAGER_GET_CLASS(o) (G_TYPE_INSTANCE_GET_CLASS ((o), GSD_TYPE_CURSOR_MANAGER, GsdCursorManagerClass))
+#define GSD_CURSOR_MANAGER_ERROR        (gsd_cursor_manager_error_quark ())
 
 typedef struct GsdCursorManagerPrivate GsdCursorManagerPrivate;
 
@@ -45,7 +46,13 @@ typedef struct
         GObjectClass   parent_class;
 } GsdCursorManagerClass;
 
+enum
+{
+        GSD_CURSOR_MANAGER_ERROR_FAILED
+};
+
 GType                   gsd_cursor_manager_get_type            (void);
+GQuark                  gsd_cursor_manager_error_quark         (void);
 
 GsdCursorManager *       gsd_cursor_manager_new                 (void);
 gboolean                gsd_cursor_manager_start               (GsdCursorManager *manager,
-- 
1.7.10.4

