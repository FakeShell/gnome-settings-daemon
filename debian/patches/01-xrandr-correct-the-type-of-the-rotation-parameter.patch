From 09d7867ba29221ae687371daf7da330c55ff9712 Mon Sep 17 00:00:00 2001
From: Sjoerd Simons <sjoerd@luon.net>
Date: Fri, 18 Nov 2011 23:55:08 +0000
Subject: [PATCH] xrandr: correct the type of the rotation parameter

GnomeRRRotation is an enum with only values >= 0, so it is likely to be
made unsigned. As the rotation argument to handle_rotate_windows can be
-1 to indicate ``next possible rotation'', rotation can't be a
GnomeRRRotation as that won't be < 0...
---
 plugins/xrandr/gsd-xrandr-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

Index: gnome-settings-daemon-3.2.2/plugins/xrandr/gsd-xrandr-manager.c
===================================================================
--- gnome-settings-daemon-3.2.2.orig/plugins/xrandr/gsd-xrandr-manager.c	2011-11-08 14:48:52.000000000 +0100
+++ gnome-settings-daemon-3.2.2/plugins/xrandr/gsd-xrandr-manager.c	2011-12-08 22:51:46.606919662 +0100
@@ -134,7 +134,7 @@
                                               int *out_num_rotations,
                                               GnomeRRRotation *out_rotations);
 static void handle_fn_f7 (GsdXrandrManager *mgr, guint32 timestamp);
-static void handle_rotate_windows (GsdXrandrManager *mgr, GnomeRRRotation rotation, guint32 timestamp);
+static void handle_rotate_windows (GsdXrandrManager *mgr, gint rotation, guint32 timestamp);
 
 G_DEFINE_TYPE (GsdXrandrManager, gsd_xrandr_manager, G_TYPE_OBJECT)
 
@@ -1413,7 +1413,7 @@
  */
 static void
 handle_rotate_windows (GsdXrandrManager *mgr,
-                       GnomeRRRotation rotation,
+                       gint rotation,
                        guint32 timestamp)
 {
         GsdXrandrManagerPrivate *priv = mgr->priv;
